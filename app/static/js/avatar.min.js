jQuery.event.props.push("dataTransfer");
(function(){var b,a={settings:{bod:$("body"),img:$("#profile-avatar"),fileInput:$("#uploader"),imageStorage:[]},init:function(){b=a.settings;a.bindUIActions()},bindUIActions:function(){var d;b.bod.on("dragover",function(c){clearTimeout(d);c.currentTarget==b.bod[0]&&a.showDroppableArea();return!1});b.bod.on("dragleave",function(c){c.currentTarget==b.bod[0]&&(d=setTimeout(function(){a.hideDroppableArea()},200))});b.bod.on("drop",function(c){c.preventDefault();a.handleDrop(c.dataTransfer.files)});b.fileInput.on("change",
function(c){a.handleDrop(c.target.files)})},showDroppableArea:function(){b.bod.addClass("droppable")},hideDroppableArea:function(){b.bod.removeClass("droppable")},handleDrop:function(d){a.hideDroppableArea();d=d[0];"undefined"!==typeof d&&d.type.match("image.*")?(a.resizeImage(d,256,function(c){a.placeImage(c);a.storeImage(c)}),a.resizeImage(d,40,function(c){a.storeImage(c)})):alert("That file wasn't an image.")},resizeImage:function(d,c,a){var b=new FileReader;b.onload=function(){Resample(this.result,
c,c,a)};b.readAsDataURL(d);b.onabort=function(){alert("The upload was aborted.")};b.onerror=function(){alert("An error occured while reading the file.")}},placeImage:function(a){b.img.attr("src",a)},storeImage:function(a){b.imageStorage.push(a)}};a.init()})();
