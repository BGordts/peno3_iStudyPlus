jQuery.event.props.push("dataTransfer");
(function(){var b,c={settings:{bod:$("body"),img:$("#profile-avatar"),fileInput:$("#uploader"),imageStorage:[]},init:function(){b=c.settings;c.bindUIActions()},bindUIActions:function(){var a;b.bod.on("dragover",function(e){clearTimeout(a);e.currentTarget==b.bod[0]&&c.showDroppableArea();return!1});b.bod.on("dragleave",function(e){e.currentTarget==b.bod[0]&&(a=setTimeout(function(){c.hideDroppableArea()},200))});b.bod.on("drop",function(a){a.preventDefault();c.handleDrop(a.dataTransfer.files)});b.fileInput.on("change",
function(a){c.handleDrop(a.target.files)})},showDroppableArea:function(){b.bod.addClass("droppable")},hideDroppableArea:function(){b.bod.removeClass("droppable")},handleDrop:function(a){c.hideDroppableArea();a=a[0];"undefined"!==typeof a&&a.type.match("image.*")?(c.resizeImage(a,256,function(a){c.placeImage(a);$("#profile-img_large").val(a)}),c.resizeImage(a,40,function(a){$("#profile-img_small").val(a)})):alert("That file wasn't an image.")},resizeImage:function(a,b,c){var d=new FileReader;d.onload=
function(){Resample(this.result,b,b,c)};d.readAsDataURL(a);d.onabort=function(){alert("The upload was aborted.")};d.onerror=function(){alert("An error occured while reading the file.")}},placeImage:function(a){b.img.attr("src",a)},storeImage:function(a){b.imageStorage.push(a);console.log(a)}};c.init()})();
