jQuery.event.props.push("dataTransfer");
(function(){var c,b={settings:{bod:$("body"),img:$("#profile-avatar"),fileInput:$("#uploader"),imageStorage:[]},init:function(){c=b.settings;b.bindUIActions()},bindUIActions:function(){var a;c.bod.on("dragover",function(e){clearTimeout(a);e.currentTarget==c.bod[0]&&b.showDroppableArea();return!1});c.bod.on("dragleave",function(e){e.currentTarget==c.bod[0]&&(a=setTimeout(function(){b.hideDroppableArea()},200))});c.bod.on("drop",function(a){a.preventDefault();b.handleDrop(a.dataTransfer.files)});c.fileInput.on("change",
function(a){b.handleDrop(a.target.files)})},showDroppableArea:function(){c.bod.addClass("droppable")},hideDroppableArea:function(){c.bod.removeClass("droppable")},handleDrop:function(a){b.hideDroppableArea();a=a[0];"undefined"!==typeof a&&a.type.match("image.*")?(b.resizeImage(a,256,function(a){b.placeImage(a);b.storeImage(a)}),b.resizeImage(a,40,function(a){b.storeImage(a)})):alert("That file wasn't an image.")},resizeImage:function(a,b,c){var d=new FileReader;d.onload=function(){Resample(this.result,
b,b,c)};d.readAsDataURL(a);d.onabort=function(){alert("The upload was aborted.")};d.onerror=function(){alert("An error occured while reading the file.")}},placeImage:function(a){c.img.attr("src",a)},storeImage:function(a){c.imageStorage.push(a);console.log(a)}};b.init()})();
